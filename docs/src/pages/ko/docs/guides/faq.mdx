# FAQ (Frequently Asked Questions)

`overlay-kit`을 사용하며 자주 접할 수 있는 질문과 답변을 제공합니다.

추가적인 질문이 있거나 문서에 다뤄지지 않은 내용이 있다면 [GitHub Issues](https://github.com/toss/overlay-kit/issues)에 의견을 남겨주세요.

## Q. overlay-kit은 어떤 상황에서 가장 유용한가요?

**A:**
`overlay-kit`은 다음과 같은 상황에서 유용합니다:

- **복잡한 오버레이 관리**: 체이닝된 다이얼로그, 중첩된 오버레이 등 복잡한 시나리오를 단순화합니다.
- **React 철학과의 일치**: 상태 관리 대신 선언적으로 UI를 정의할 수 있습니다.
- **성능 최적화 필요**: 자주 열리고 닫히는 무거운 오버레이에서 성능을 극대화합니다.
- **대규모 애플리케이션**: 팀 전체에서 일관된 오버레이 관리 패턴을 제공합니다.

## Q. `overlay.open`과 `overlay.openAsync`의 차이는 무엇인가요?

**A:**

- **`overlay.open`**: 단순히 오버레이를 열고 닫는 동작을 정의합니다.
- **`overlay.openAsync`**: Promise 기반으로 동작하며, 비동기적으로 결과를 반환합니다.

**비교 예제**:

```tsx
// overlay.open
overlay.open(({ isOpen, close }) => (
  <Dialog open={isOpen} onClose={close}>
    <p>단순 오버레이</p>
  </Dialog>
));

// overlay.openAsync
const result = await overlay.openAsync<boolean>(({ isOpen, close }) => (
  <Dialog open={isOpen} onClose={() => close(false)}>
    <Button onClick={() => close(true)}>확인</Button>
  </Dialog>
));

console.log(result ? 'Yes' : 'No');
```

## Q. `close`와 `unmount`의 차이점은 무엇인가요?

**A:**

- **`close`**: 오버레이를 닫고 상태를 메모리에 유지합니다. 다시 열면 닫기 이전 상태로 복원됩니다.
- **`unmount`**: 오버레이 데이터를 메모리에서 완전히 제거합니다. 이후 다시 열면 초기 상태로 시작합니다.

**사용 사례**:

- **`close`**: 자주 열리고 닫히는 무거운 오버레이의 성능 최적화.
- **`unmount`**: 더 이상 사용하지 않는 오버레이를 메모리에서 제거하여 메모리 릭 방지.

## Q. `overlay.closeAll`과 `overlay.unmountAll`의 차이는 무엇인가요?

**A:**

- **`overlay.closeAll`**: 모든 열려 있는 오버레이를 닫습니다. 상태는 메모리에 유지됩니다.
- **`overlay.unmountAll`**: 모든 열려 있는 오버레이를 메모리에서 완전히 제거합니다.

**비교 예제**:

```tsx
// 모든 오버레이 닫기
overlay.closeAll();

// 모든 오버레이 제거
overlay.unmountAll();
```

## Q. 오버레이를 닫았는데 다시 열면 상태가 유지됩니다. 왜 그런가요?

**A:**
`close`를 호출하면 오버레이는 메모리에 상태를 유지한 채 닫힙니다. 이를 방지하려면 `unmount`를 호출하여 메모리에서 상태를 완전히 제거하세요.

## Q. 언제 `unmount`를 사용해야 하나요?

**A:**

- 오버레이가 무거운 데이터를 유지하고 있지 않다면, 일반적으로 `close`만으로 충분합니다.
- 오버레이가 더 이상 필요하지 않거나 메모리를 확보해야 하는 경우, 반드시 `unmount` 또는 `unmountAll`을 호출하세요.

## Q. overlay-kit은 어떤 UI 라이브러리와 함께 사용할 수 있나요?

**A:**
`overlay-kit`은 특정 UI 라이브러리에 종속적이지 않으며, React 기반의 모든 UI 라이브러리와 호환됩니다.

예를 들어:

- **Material-UI**
- **Chakra UI**
- **Ant Design**

## Q. overlay-kit은 TypeScript를 지원하나요?

**A:**
네, `overlay-kit`은 TypeScript를 완벽히 지원합니다.

**예제**:

```tsx
const result = await overlay.openAsync<boolean>(({ isOpen, close }) => (
  <Dialog open={isOpen} onClose={() => close(false)}>
    <Button onClick={() => close(true)}>확인</Button>
  </Dialog>
));
```

## Q. 오버레이의 닫기 애니메이션이 보이지 않습니다. 이유가 뭔가요?

**A:**
`unmount`를 바로 호출하면 닫기 애니메이션이 실행되지 않습니다. 닫기 애니메이션을 유지하려면 먼저 `close`를 호출하고, 애니메이션이 완료된 후 `unmount`를 실행하세요.

**예제**:

```tsx
overlay.open(({ isOpen, close, unmount }) => (
  <Dialog
    open={isOpen}
    onClose={() => {
      close(); // 닫기 애니메이션 실행
      setTimeout(() => unmount(), 300); // 애니메이션 이후 메모리에서 제거
    }}
  >
    <p>애니메이션 유지</p>
  </Dialog>
));
```

## 추가 질문

추가로 궁금한 사항이 있거나 문서에서 다뤄야 할 내용을 발견하셨다면, [GitHub Issues](https://github.com/toss/overlay-kit/issues)에 의견을 남겨주세요.
